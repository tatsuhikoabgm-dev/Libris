<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8" />
  <title>変更内容の確認 | Libris</title>

  <link rel="stylesheet" th:href="@{/css/base.css}">
  <link rel="stylesheet" th:href="@{/css/nav.css}">
  <link rel="stylesheet" th:href="@{/css/mypage-confirm.css}">
</head>

<body>

  <div th:replace="layout/fragments/nav :: nav"></div>

  <div class="confirm-wrapper">

    <h1 class="confirm-title">変更内容の確認</h1>
    <p class="confirm-sub">
      以下の内容で変更します。問題なければ「変更を確定」を押してください。
    </p>

    <div class="confirm-card">
      <h2 class="confirm-section">会員情報</h2>

      <div class="confirm-grid">

        <!-- 1行目 -->
        <div class="confirm-item">
          <div class="label">氏名</div>
          <div class="value"
               th:text="${confirm.lastName + ' ' + confirm.firstName}"></div>
        </div>

        <div class="confirm-item">
          <div class="label">氏名（カナ）</div>
          <div class="value"
               th:text="${confirm.lastNameKana + ' ' + confirm.firstNameKana}"></div>
        </div>

        <!-- 2行目：住所（2列分） -->
        <div class="confirm-item wide">
          <div class="label">住所</div>
          <div class="value address">
            <span th:text="'〒' + ${confirm.postalCode}"></span>
            <span th:text="${confirm.prefecture}"></span>
            <span th:text="${confirm.city}"></span>
            <span th:text="${confirm.town}"></span>
            <span th:text="${confirm.addressNumber}"></span>
            <span th:text="${confirm.building}"></span>
          </div>
        </div>

        <!-- 3行目 -->
        <div class="confirm-item">
          <div class="label">生年月日</div>
          <div class="value" th:text="${confirm.birthday}"></div>
        </div>

        <div class="confirm-item">
          <div class="label">電話番号</div>
          <div class="value mono" th:text="${confirm.phoneNumber}"></div>
        </div>

        <!-- 4行目 -->
        <div class="confirm-item">
          <div class="label">メールアドレス</div>
          <div class="value mono" th:text="${confirm.email}"></div>
        </div>

        <div class="confirm-item">
          <div class="label">表示名</div>
          <div class="value"
               th:text="${#strings.isEmpty(confirm.displayName) ? '未設定' : confirm.displayName}">
          </div>
        </div>

      </div>

      <div class="confirm-actions">
        <form th:action="@{/mypage/edit}" method="get">
          <button class="btn btn-secondary">修正する</button>
        </form>

        <form th:action="@{/mypage/edit/complete}" method="post">
          <button class="btn btn-primary">変更を確定</button>
        </form>
      </div>

      <div class="confirm-footer">
        © 2025 Libris / たつひこシステム開発（TSD）✨
      </div>
    </div>
  </div>

</body>
</html>
