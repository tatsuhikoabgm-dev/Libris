<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<title>登録内容確認 | Libris</title>

	<link rel="stylesheet" th:href="@{/css/base.css}">
	<link rel="stylesheet" th:href="@{/css/nav.css}">
	<link rel="stylesheet" th:href="@{/css/mypage.css}">
	<link rel="stylesheet" th:href="@{/css/mypage-register-confirm.css}">
	<link rel="stylesheet" th:href="@{/css/footer.css}">
</head>

<body>

	<!-- NAV -->
	<div th:replace="layout/fragments/nav :: nav"></div>

	<!-- MAIN -->
	<div class="wrapper">

		<div class="page-title">登録内容の確認</div>
		<div class="page-sub">
			入力内容をご確認のうえ、問題なければ登録を完了してください。
		</div>

		<!-- ===================== PROFILE 確認 ===================== -->
		<div class="card" th:if="${form.registerType.name() == 'PROFILE'}">

			<div class="section-title">マイページ登録内容</div>

			<div class="grid">

				<div class="item">
					<div class="label">姓</div>
					<div class="value" th:text="${form.lastName}"></div>
				</div>

				<div class="item">
					<div class="label">名</div>
					<div class="value" th:text="${form.firstName}"></div>
				</div>

				<div class="item">
					<div class="label">姓（カナ）</div>
					<div class="value" th:text="${form.lastNameKana}"></div>
				</div>

				<div class="item">
					<div class="label">名（カナ）</div>
					<div class="value" th:text="${form.firstNameKana}"></div>
				</div>

				<!-- ★ 正解：address-wide を使う -->
				<div class="item address-wide">
					<div class="label">住所</div>
					<div class="value">
						<span th:text="'〒' + ${form.postalCode}"></span><br>
						<span th:text="${form.prefecture}"></span>
						<span th:text="${form.city}"></span>
						<span th:text="${form.town}"></span>
						<span th:text="${form.addressNumber}"></span>
						<span th:if="${!#strings.isEmpty(form.building)}"
							  th:text="${form.building}"></span>
					</div>
				</div>

				<div class="item">
					<div class="label">生年月日</div>
					<div class="value" th:text="${form.birthday}"></div>
				</div>

				<div class="item">
					<div class="label">電話番号</div>
					<div class="value mono" th:text="${form.phoneNumber}"></div>
				</div>

			</div>

			<div class="actions">
				<form th:action="@{/mypage/register}" method="get">
					<input type="hidden" name="fromConfirm" value="true">
					<button type="submit" class="btn btn-secondary">戻る</button>
				</form>

				<form th:action="@{/mypage/register/complete}" method="post">
					<input type="hidden" name="registerType" th:value="${form.registerType}" />
					<button type="submit" class="btn btn-primary">登録を完了する</button>
				</form>
			</div>

		</div>

		<!-- ===================== ACCOUNT 確認 ===================== -->
		<div class="card" th:if="${form.registerType.name() == 'ACCOUNT'}">

			<div class="section-title">表示名・メールアドレス変更内容</div>

			<div class="grid">

				<div class="item address-wide">
					<div class="label">表示名</div>
					<div class="value"
						th:text="${#strings.isEmpty(form.displayName) ? '（未設定）' : form.displayName}">
					</div>
				</div>

				<div class="item address-wide">
					<div class="label">メールアドレス</div>
					<div class="value mono" th:text="${form.email}"></div>
				</div>

			</div>

			<div class="actions">
				<form th:action="@{/mypage/register}" method="get">
					<input type="hidden" name="fromConfirm" value="true">
					<button type="submit" class="btn btn-secondary">戻る</button>
				</form>

				<form th:action="@{/mypage/register/complete}" method="post">
					<input type="hidden" name="registerType" th:value="${form.registerType}" />
					<button type="submit" class="btn btn-primary">登録を完了する</button>
				</form>
			</div>

		</div>

	</div><!-- /.wrapper -->

	<!-- FOOTER -->
	<div th:replace="layout/fragments/footer :: footer"></div>

</body>
</html>
